"use strict";var generators=[];var reservedItems=[];function isChainable(name){name=name[0]=="."?name.slice(1).split("(")[0]:name.split("(")[0];var chain={init:true,activateGenerator:true,deactivateGenerator:true,destroyGenerator:false,replaceObject:true,reset:true,setSize:true,setBackground:true,setMax:true,setStep:true,getId:false,getCode:false,getOptions:false,getFavourites:false,toggleFavourites:true,removeFavourites:true,addToFavourites:true,downloadFavourites:true,enablePreview:true,enableBootstrapContainer:true};return chain[name]!=undefined?chain[name]:false}function Generator(args,custom_object,enable_bootstrap_panel){function log(o){console.log(o)}function abs(a){return Math.abs(a)}var self=this;self.code=undefined;var val=function(o){return $(o).val()};self.host_id="";self.custom_object=custom_object||".generatorOutput";self.options=["10em","10em",100,"maroon"];self.sliders=[];self.favourites=[];self.colors=["#fabb00","rgb(255,53,0)","rgb(3,86,255)","rgb(20, 77, 239)","#107B9E"];self.generator_markup="<div class='generatorContainer'>\n";self.generator_markup+="<input type='range' class='radius_slider top_left_corner'  min='0' max='100' value='0'>\n";self.generator_markup+="<input type='range' class='radius_slider top_right_corner' min='0' max='100' value='0'>\n";self.generator_markup+="<div class='generatorOutput'></div>\n";self.generator_markup+="<input type='range' class='radius_slider bottom_right_corner' min='0' max='100' value='0'>\n";self.generator_markup+="<input type='range' class='radius_slider bottom_left_corner'  min='0' max='100' value='0'></div>\n";self.generator_markup+="<div class='panel panel-primary'>\n<div class='panel-body text-center bg-success'>";self.generator_markup+="border-radius: <span class='border_radius_code_output'>0px 0px 0px 0px</span>;\n</div>";self.generator_markup+="</div><ul class='list-group favourites'></ul>\n</div>";self.bootstrap_markup="<div class='panel panel-primary'><div class='panel-heading text-center'>Generator</div><div class='panel-body'>"+self.generator_markup+"</div></div>";self.getId=function(){return self.host_id};self.setSize=function(height,width){var host_div=self.host_id;var target=!enable_bootstrap_panel?host_div+" "+self.custom_object:host_div+" .generatorOutput";self.options[0]=height;self.options[1]=width;$(target).height(height).width(width);return self};self.setBackground=function(bg,random_color){var host_div=self.host_id;var target=!enable_bootstrap_panel?host_div+" "+self.custom_object:host_div+" .generatorOutput";if(bg)self.colors.push(bg);function ranColor(){return self.colors[Math.round(Math.random()*self.colors.length)]}var color=!random_color?bg:ranColor();self.options[3]=color;$(target).css("background",color,"!important");return self};self.setStep=function(step){step=abs(step);var isValidStep=abs(step)<=$(self.sliders[0]).prop("max")&&!isNaN(step)&&step;if(!isValidStep)throw new Error(!step?"Invalid value":isNaN(step)?"Invalid step value":"Step value is greater than max value");$(self.getId()+" input[type='range']").prop("step",step);return self};self.setMax=function(value){value=abs(value);if(isNaN(value))throw new Error("Max value must be a number!!!");if(value<$(self.sliders[0]).prop("max")){var old=$(self.sliders[0]).prop("max");self.code=value+"px "+value+"px "+value+"px "+value+"px";$(self.getId()+" .border_radius_code_output").text(self.code);$(self.getId()+" "+self.custom_object).css("border-radius",self.code)}try{$(self.host_id+" input[type='range']").prop("max",value);self.options[2]=value}catch(e){throw new Error("(T)error occured:"+e)}return self};self.getOptions=function(){return self.options};self.init=function(options){if(!options)throw new Error("No list of options found");else if(options.length<4){throw new Error("Expected 4 parameters but got "+options.length+" parameters")}else{self.options=options;self.setSize(options[0],options[1]).setMax(options[2]).setBackground(options[3])}return self};if(typeof args=="string"){if(!args)throw new Error("Host id can't be empty !!!");self.host_id=args}else{self.host_id=args[0];self.options=args.slice(1)}$(document).ready(function(){$(self.host_id).html(!enable_bootstrap_panel?self.generator_markup:self.bootstrap_markup);if(self.custom_object!=".generatorOutput"&&reservedItems.indexOf(self.custom_object)==-1){$(self.getId()+" .generatorOutput").replaceWith($(self.custom_object));$(self.custom_object).addClass("generatorOutput");reservedItems.push(self.custom_object)}self.init(self.getOptions());self.sliders=$(self.getId()+" .radius_slider")});self.getCode=function(){return self.code};self.getOptions=function(){return self.options};self.reset=function(){self.code="0px 0px 0px 0px";for(var i=0;i<self.sliders.length;i++)$(self.sliders[i]).val(0);$(self.getId()+" .border_radius_code_output").text(self.code);$(self.getId()+" .generatorOutput").css("border-radius","0");return self};self.activateGenerator=function(){$(document).ready(function(){var host_div=self.getId();$(host_div).on("mousemove touchmove",".radius_slider",function(){self.code=val(self.sliders[0])+"px "+val(self.sliders[1])+"px "+val(self.sliders[2])+"px "+val(self.sliders[3])+"px";$(host_div+" .border_radius_code_output").text(self.code);$(host_div+" .generatorOutput").css("border-radius",self.code)})});return self};self.deactivateGenerator=function(){$(document).ready(function(){self.reset();$(self.getId()).off()});return self};self.destroyGenerator=function(){var host=self.getId();$(host+" .generatorContainer").remove();$(host+" .panel").remove()};self.replaceObject=function(object,restrict_size){if(!object||object[0]=="."||object[0]!="#")throw new Error(!object?"Invalid object detected":"Class detected.Please switch to an object with id insted of class");if(reservedItems.indexOf(object)==-1)reservedItems.push(object);else throw new Error("This object is already being used.!!!!");$(object).addClass("center-block");$(object).addClass("generatorOutput");$(self.getId()+" "+self.custom_object).replaceWith($(object));self.custom_object=object;$(object).css("border-radius",self.code);if(!restrict_size)self.options=[$(object).css("height"),$(object).css("width"),self.options[2],$(object).css("background")];else self.options=[self.options[0],self.options[1],self.options[2],$(object).css("background")];self.init(self.options);return self};self.addToFavourites=function(){$(self.getId()+"  .favourites li").show();if(self.favourites.indexOf(self.code)==-1&&self.code!=undefined)self.favourites.push(self.code);else return self;$(self.getId()+" ul.favourites").append("<li class='generator_favourites list-group-item'>border-radius:"+self.code+";</li>");return self};self.getFavourites=function(){return self.favourites};self.toggleFavourites=function(){$(self.getId()+"  .favourites li").toggle(800);return self};self.removeFavourites=function(preserve){if(!preserve)self.favourites.length=0;$(self.getId()+" .favourites li").remove();return self};self.downloadFavourites=function(){var file="/********\n";var items=self.getFavourites();if(items.length<1){alert("No favourites to download.");throw new Error("No items to download")}for(var i=0,max=items.length;i<max;i++)file+="border-radius:"+items[i]+";\n";file+="\n******************miniBorderRadius plugin******************"+"\n--visit https://github.com/kounelios13/mini-border-radius--"+"\n-------------------to see more-------------------.\n****/";try{var blob=new Blob([file],{type:"text/plain;charset=utf-8"});saveAs(blob,"favourites.css")}catch(e){switch(e.message){case"saveAs is not defined":alert("FileSaver.js was not found");break;default:alert("An error occured"+e.message)}}};self.enablePreview=function(){$(document).ready(function(){var host=self.getId();$(document).on("click",self.getId()+" li",function(){var values=$(this).text().match(/\d+/g);for(var i=0;i<4;i++)$(self.sliders[i]).val(values[i]);self.code=$(this).text().split(":")[1].split(";")[0];$(self.getId()+" "+self.custom_object).css("border-radius",self.code);$(self.getId()+" .border_radius_code_output").text(self.code)})});return self};self.enableBootstrapContainer=function(){var host=self.getId();var args=self.options;var old_code=self.getCode();var old_favs=self.favourites;var old_obj=self.custom_object;args.unshift(host);var isFavouritesListVisible=$(host+" .list-group li").is(":visible");var index=generators.indexOf(self);self=new Generator(args,old_obj,true).activateGenerator();$(host+" .generatorOutput").css("border-radius",old_code);var values=old_code.match(/\d+/g);for(var i=0;i<4;i++)$(self.sliders[i]).val(values[i]);$(host+" .border_radius_code_output").text(old_code);var old_list="";for(var i=0;i<old_favs.length;i++)old_list+="<li class='generator_favourites list-group-item'>border-radius:"+old_favs[i]+";</li>\n";$(host+" .list-group").append(old_list);$(host+" .list-group li").toggle(isFavouritesListVisible);self.options=self.getOptions();self.code=old_code;self.favourites=old_favs;generators[index]=self;return self};generators.push(self)}