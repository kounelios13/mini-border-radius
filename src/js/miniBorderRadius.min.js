"use strict";var generators=[];var reservedItems=[];function isChainable(name){name=name[0]=="."?name.slice(1).split("(")[0]:name.split("(")[0];var chain={init:true,activateGenerator:true,deactivateGenerator:true,destroyGenerator:false,replaceObject:true,reset:true,setSize:true,setBackground:true,setMax:true,setStep:true,getId:false,getCode:false,getOptions:false,getFavourites:false,toggleFavourites:true,removeFavourites:true,addToFavourites:true,downloadFavourites:true,enablePreview:true,enableBootstrapContainer:true};return chain[name]!=undefined?chain[name]:false}function Generator(args,custom_object,enable_bootstrap_panel){function log(o){console.log(o)}function abs(a){return Math.abs(a)}var gen=this;gen.code="0px 0px 0px 0px";var val=function(o){return $(o).val()};gen.host_id="";gen.custom_object=custom_object||".generatorOutput";gen.options=["10em","10em",100,"maroon"];gen.sliders=[];gen.favourites=[];gen.colors=["#fabb00","rgb(255,53,0)","rgb(3,86,255)","rgb(20, 77, 239)","#107B9E"];gen.generator_markup="<div class='generatorContainer'>\n";gen.generator_markup+="<input type='range' class='radius_slider top_left_corner'  min='0' max='100' value='0'>\n";gen.generator_markup+="<input type='range' class='radius_slider top_right_corner' min='0' max='100' value='0'>\n";gen.generator_markup+="<div class='generatorOutput'></div>\n";gen.generator_markup+="<input type='range' class='radius_slider bottom_right_corner' min='0' max='100' value='0'>\n";gen.generator_markup+="<input type='range' class='radius_slider bottom_left_corner'  min='0' max='100' value='0'></div>\n";gen.generator_markup+="<div class='panel panel-primary'>\n<div class='panel-body text-center bg-success'>";gen.generator_markup+="border-radius: <span class='border_radius_code_output'>0px 0px 0px 0px</span>;\n</div>";gen.generator_markup+="</div><ul class='list-group favourites'></ul>\n</div>";gen.bootstrap_markup="<div class='panel panel-primary'><div class='panel-heading text-center'>Generator</div><div class='panel-body'>"+gen.generator_markup+"</div></div>";gen.setSize=function(height,width){var host_div=gen.host_id;var target=!enable_bootstrap_panel?host_div+" "+gen.custom_object:host_div+" .generatorOutput";gen.options[0]=height;gen.options[1]=width;$(target).height(height).width(width);return gen};gen.setBackground=function(bg,random_color){var host_div=gen.host_id;var target=!enable_bootstrap_panel?host_div+" "+gen.custom_object:host_div+" .generatorOutput";if(bg)gen.colors.push(bg);function ranColor(){return gen.colors[Math.round(Math.random()*gen.colors.length)]}var color=!random_color?bg:ranColor();gen.options[3]=color;$(target).css("background",color,"!important");return gen};gen.setStep=function(step){var isValidStep=abs(step)<=$(gen.sliders[0]).prop("max")&&!isNaN(step)&&step;if(!isValidStep)throw new Error(!step?"Invalid value":isNaN(step)?"Invalid step value":"Step value is greater than max value");for(var i=0;i<4;i++)$(gen.sliders[i]).prop("step",abs(step));return gen};gen.setMax=function(value){if(isNaN(value))throw new Error("Max value must be a number!!!");if(abs(value)<$(gen.sliders[0]).prop("max")){var old=$(gen.sliders[0]).prop("max");gen.code=abs(value)+"px "+abs(value)+"px "+abs(value)+"px "+abs(value)+"px";$(gen.host_id+" .border_radius_code_output").text(gen.code);$(gen.getId()+" "+gen.custom_object).css("border-radius",gen.code)}for(var x=0,max=gen.sliders.length;x<max;x++)try{$(gen.sliders[x]).prop("max",Math.abs(value));gen.options[2]=Math.abs(value)}catch(e){throw new Error("(T)error occured:"+e)}return gen};gen.getOptions=function(){return gen.options};gen.init=function(options){if(!options)throw new Error("No list of options found");else if(options.length<4){throw new Error("Expected 4 parameters but got "+options.length+" parameters")}else{gen.options=options;gen.setSize(options[0],options[1]).setMax(options[2]).setBackground(options[3])}return gen};if(typeof args=="string"){if(!args)throw new Error("Host id can't be empty !!!");gen.host_id=args}else{gen.host_id=args[0];gen.options=args.slice(1)}$(document).ready(function(){$(gen.host_id).html(!enable_bootstrap_panel?gen.generator_markup:gen.bootstrap_markup);if(gen.custom_object!=".generatorOutput"&&reservedItems.indexOf(gen.custom_object)==-1){$(gen.host_id+" .generatorOutput").replaceWith($(gen.custom_object));$(gen.custom_object).addClass("generatorOutput");reservedItems.push(gen.custom_object)}gen.init(gen.getOptions());gen.sliders=$(gen.host_id+" .radius_slider")});gen.getCode=function(){return gen.code};gen.getOptions=function(){return gen.options};gen.getId=function(){return gen.host_id};gen.reset=function(){gen.code="0px 0px 0px 0px";for(var i=0;i<gen.sliders.length;i++)$(gen.sliders[i]).val(0);$(gen.getId()+" .border_radius_code_output").text(gen.code);$(gen.getId()+" .generatorOutput").css("border-radius","0");return gen};gen.activateGenerator=function(){$(document).ready(function(){var host_div=gen.getId();$(host_div).on("mousemove touchmove",".radius_slider",function(){gen.code=val(gen.sliders[0])+"px "+val(gen.sliders[1])+"px "+val(gen.sliders[2])+"px "+val(gen.sliders[3])+"px";$(host_div+" .border_radius_code_output").text(gen.code);$(host_div+" .generatorOutput").css("border-radius",gen.code)})});return gen};gen.deactivateGenerator=function(){$(document).ready(function(){gen.reset();$(gen.getId()).off()});return gen};gen.destroyGenerator=function(){var host=gen.getId();$(host+" .generatorContainer").remove();$(host+" .panel").remove()};gen.replaceObject=function(object,restrict_size){if(!object||object[0]=="."||object[0]!="#")throw new Error(!object?"Invalid object detected":"Class detected.Please switch to an object with id insted of class");if(reservedItems.indexOf(object)==-1)reservedItems.push(object);else throw new Error("This object is already being used.!!!!");$(object).addClass("center-block");$(object).addClass("generatorOutput");$(gen.getId()+" "+gen.custom_object).replaceWith($(object));gen.custom_object=object;$(object).css("border-radius",gen.code);if(!restrict_size)gen.options=[$(object).css("height"),$(object).css("width"),gen.options[2],$(object).css("background")];else gen.options=[gen.options[0],gen.options[1],gen.options[2],$(object).css("background")];gen.init(gen.options);return gen};gen.addToFavourites=function(){$(gen.getId()+"  .favourites li").show();if(gen.favourites.indexOf(gen.code)==-1&&gen.code!=undefined)gen.favourites.push(gen.code);else return gen;$(gen.getId()+" ul.favourites").append("<li class='generator_favourites list-group-item'>border-radius:"+gen.code+";</li>");return gen};gen.getFavourites=function(){return gen.favourites};gen.toggleFavourites=function(){$(gen.getId()+"  .favourites li").toggle(800);return gen};gen.removeFavourites=function(preserve){if(!preserve)gen.favourites.length=0;$(gen.getId()+" .favourites li").remove();return gen};gen.downloadFavourites=function(){var file="/********\n";var items=gen.getFavourites();for(var i=0,max=items.length;i<max;i++)file+="border-radius:"+items[i]+";\n";file+="\n*****miniBorderRadius plugin\n\n visit https://github.com/kounelios13/mini-border-radius to see more.\n****/";try{var blob=new Blob([file],{type:"text/plain;charset=utf-8"});saveAs(blob,"favourites.css")}catch(e){switch(e.message){case"saveAs is not defined":alert("FileSaver.js was not found");break;default:alert("An error occured"+e.message)}}};gen.enablePreview=function(){$(document).ready(function(){var host=gen.getId();$(document).on("click",gen.getId()+" li",function(){var values=$(this).text().match(/\d+/g);for(var i=0;i<4;i++)$(gen.sliders[i]).val(values[i]);gen.code=$(this).text().split(":")[1].split(";")[0];$(gen.getId()+" "+gen.custom_object).css("border-radius",gen.code);$(gen.getId()+" .border_radius_code_output").text(gen.code)})});return gen};gen.enableBootstrapContainer=function(){var host=gen.getId();var args=gen.options;var old_code=gen.getCode();var old_favs=gen.favourites;var old_obj=gen.custom_object;args.unshift(host);var isFavouritesListVisible=$(host+" .list-group li").is(":visible");var index=generators.indexOf(gen);gen=new Generator(args,old_obj,true).activateGenerator();$(host+" .generatorOutput").css("border-radius",old_code);var values=old_code.match(/\d+/g);for(var i=0;i<4;i++)$(gen.sliders[i]).val(values[i]);$(host+" .border_radius_code_output").text(old_code);var old_list="";for(var i=0;i<old_favs.length;i++)old_list+="<li class='generator_favourites list-group-item'>border-radius:"+old_favs[i]+";</li>\n";$(host+" .list-group").append(old_list);$(host+" .list-group li").toggle(isFavouritesListVisible);gen.options=gen.getOptions();gen.code=old_code;gen.favourites=old_favs;generators[index]=gen;return gen};generators.push(gen)}